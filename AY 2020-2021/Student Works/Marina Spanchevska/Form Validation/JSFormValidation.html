<html>
<head>
<title>Student form</title>
<style>
label {
  display:inline-block;
  width: 150px;
}

input, select {
  width: 200px;
  border: 1px solid black;
}

.red:invalid {
  background-color: red;
}

fieldset,button{
      display: inline-block;
      float: left;
      clear: left;
      margin: 5px;
}

</style>
<script>
function confirmData() {
  //var form = document.getElementById("student_form");
  var email = document.getElementById("input_email");
  
  var splitEmail = email.value.split("@");
  if (splitEmail[1] == "gmail.com") {
    window.alert("Gmail domain is not allowed!");
  }
  //form.submit();
}

function levelChanged() {
  var level = document.getElementById("select_level");
  var program = document.getElementById("select_program");
  
  while (program.length > 0)
    program.remove(0);
    
  if (level.value == "Undergraduate") {
    var opt = document.createElement("option");
    opt.text = "Mathematics";
    program.add(opt);
    var opt = document.createElement("option");
    opt.text = "Computer Science";
    program.add(opt);
    var opt = document.createElement("option");
    opt.text = "Bioinformatics";
    program.add(opt);
  }
  if (level.value == "Master's") {
    var opt = document.createElement("option");
    opt.text = "Mathematical Sciences";
    program.add(opt);
    var opt = document.createElement("option");
    opt.text = "Data Science";
    program.add(opt);
  }
  if (level.value == "Doctoral") {
    var opt = document.createElement("option");
    opt.text = "Computer Science";
    program.add(opt);
    var opt = document.createElement("option");
    opt.text = "Mathematics";
    program.add(opt);
  }
}
</script>
</head>

<body onload="levelChanged()">
<form id="student_form">
  <fieldset>
  <div>
    <label for="name">Name:</label>
    <input class="red" type="text" name="name" required>
  </div>
  <div>
    <label for="surname">Last name:</label>
    <input class="red" type="text" name="surname" required>
  </div>
  <div>
    <label for="birth">Birth date:</label>
    <input type="date" name="birth">
  </div>
  <div>
    <label for="phone">Phone:</label>
    <input class="red" type="text" name="phone" pattern="0[3-7][0-9]\s[0-9]{6}">
  </div>
  <div>
    <label for="email">Email:</label>
    <input type="email" name="email" id="input_email">
  </div>
</fieldset>

<fieldset>
<div>
  <label>Study level:</label>
  <select onchange="levelChanged()" id="select_level">
    <option>Undergraduate</option>
    <option>Master's</option>
    <option>Doctoral</option>
  </select>
</div>
<div>
  <label>Study program:</label>
  <select id="select_program">
  </select>
  </div>
</fieldset>

<button type="button"onclick="confirmData()">Confirm Data</button>
</form>

</body>
</html>